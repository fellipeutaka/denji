{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "allOf": [
    {
      "type": "object",
      "properties": {
        "$schema": {
          "default": "https://denji-docs.vercel.app/configuration_schema.json",
          "description": "The URL of the JSON Schema for this configuration file (e.g., './node_modules/denji/configuration_schema.json')",
          "type": "string"
        },
        "output": {
          "anyOf": [
            {
              "type": "string",
              "description": "The output file path for generated icon components (e.g., './src/icons.tsx'). Shorthand for { type: 'file', path: '...' }"
            },
            {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "file",
                    "folder"
                  ],
                  "description": "Output type: 'file' for single icons file, 'folder' for one file per icon component"
                },
                "path": {
                  "type": "string",
                  "description": "The output path for generated icon components"
                }
              },
              "required": [
                "type",
                "path"
              ],
              "additionalProperties": false,
              "description": "Output configuration for generated icon components (e.g., { type: 'file', path: './src/icons.tsx' })"
            }
          ]
        },
        "typescript": {
          "default": true,
          "description": "Whether to generate TypeScript code",
          "type": "boolean"
        },
        "a11y": {
          "anyOf": [
            {
              "type": "string",
              "enum": [
                "hidden",
                "img",
                "title",
                "presentation"
              ]
            },
            {
              "type": "boolean",
              "const": false
            }
          ],
          "description": "Accessibility strategy for SVG icons (hidden: aria-hidden, img: role=img with aria-label, title: <title> element, presentation: role=presentation, false: no a11y attrs)"
        },
        "trackSource": {
          "default": true,
          "description": "Add data-icon attribute with Iconify source name (enables update command, debugging, and identifying icon collections)",
          "type": "boolean"
        },
        "hooks": {
          "description": "Hooks to run at various stages",
          "type": "object",
          "properties": {
            "preAdd": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Scripts to run before adding icons"
            },
            "postAdd": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Scripts to run after adding icons"
            },
            "preRemove": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Scripts to run before removing icons"
            },
            "postRemove": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Scripts to run after removing icons"
            },
            "preClear": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Scripts to run before clearing all icons"
            },
            "postClear": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Scripts to run after clearing all icons"
            },
            "preList": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Scripts to run before listing icons"
            },
            "postList": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "Scripts to run after listing icons"
            }
          },
          "additionalProperties": false
        }
      },
      "required": [
        "$schema",
        "output",
        "typescript",
        "trackSource"
      ]
    },
    {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "framework": {
              "type": "string",
              "const": "react",
              "description": "React framework"
            },
            "react": {
              "type": "object",
              "properties": {
                "forwardRef": {
                  "default": false,
                  "description": "Wrap icon components with forwardRef",
                  "type": "boolean"
                }
              },
              "required": [
                "forwardRef"
              ],
              "additionalProperties": false,
              "description": "React-specific configuration options"
            }
          },
          "required": [
            "framework"
          ]
        },
        {
          "type": "object",
          "properties": {
            "framework": {
              "type": "string",
              "const": "preact",
              "description": "Preact framework"
            },
            "preact": {
              "type": "object",
              "properties": {
                "forwardRef": {
                  "default": false,
                  "description": "Wrap icon components with forwardRef",
                  "type": "boolean"
                }
              },
              "required": [
                "forwardRef"
              ],
              "additionalProperties": false,
              "description": "Preact-specific configuration options"
            }
          },
          "required": [
            "framework"
          ]
        },
        {
          "type": "object",
          "properties": {
            "framework": {
              "type": "string",
              "const": "solid",
              "description": "Solid framework"
            },
            "solid": {
              "type": "object",
              "properties": {},
              "additionalProperties": false,
              "description": "Solid-specific configuration options"
            }
          },
          "required": [
            "framework"
          ]
        },
        {
          "type": "object",
          "properties": {
            "framework": {
              "type": "string",
              "const": "vue",
              "description": "Vue framework"
            },
            "vue": {
              "type": "object",
              "properties": {
                "syntax": {
                  "default": "h",
                  "description": "Component syntax: 'h' for render function (future: 'sfc' for .vue files)",
                  "type": "string",
                  "enum": [
                    "h"
                  ]
                }
              },
              "required": [
                "syntax"
              ],
              "additionalProperties": false,
              "description": "Vue-specific configuration options"
            }
          },
          "required": [
            "framework"
          ]
        },
        {
          "type": "object",
          "properties": {
            "framework": {
              "type": "string",
              "const": "svelte",
              "description": "Svelte framework"
            },
            "svelte": {
              "type": "object",
              "properties": {},
              "additionalProperties": false,
              "description": "Svelte-specific configuration options"
            }
          },
          "required": [
            "framework"
          ]
        }
      ]
    }
  ],
  "title": "Denji Configuration Schema",
  "description": "Schema for Denji configuration file",
  "unevaluatedProperties": false
}